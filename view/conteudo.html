<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Titulo da matéria</title>
    <link rel="stylesheet" href="./css/assets/main.css">
    <link rel="stylesheet" href="./css/conteudo.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
</head>

<body>

    <!--NAVBAR-->
    <header>
        <div class="menu-icon" onclick="toggleSidebar()">
            <i class="fa-solid fa-bars" style="color: #ffffff;"></i>
        </div>
        <div class="navbar-content">
            <a href="./index.html"><img src="./img/logo_q_perigo.png" alt=""></a>

            <div class="functions">
                <div class="search-container">
                    <label for="search-input" class="search-icon">
                        <i class="fa-solid fa-magnifying-glass" style="color: #00ab25;"></i>
                    </label>
                    <input type="text" class="search-input" id="search-input" placeholder="Encontre o que procura..."
                        required />
                </div>
            </div>
        </div>
    </header>

    <aside class="sidebar" id="sidebar">
        <p class="close-btn" onclick="toggleSidebar()">×</p>
        <a href="./index.html">
            <div class="logotipo"><img src="./img/logo_q_perigo.png" alt=""></div>
        </a>
        <div class="sidebar-content">
            <a href="./index.html" class="sidebar-link active">
                <i class="fa-solid fa-house" style="color: #ffffff;"></i>
                <span>Home</span>
            </a>

            <a href="./desenvolvedores.html" class="sidebar-link">
                <i class="fa-solid fa-users" style="color: #ffffff;"></i>
                <span>Sobre Nós</span>
            </a>

            <div class="conteudos">Acesse Também
                <div class="triangulo"></div>
            </div>

            <a href="./dicas_web.html" class="sidebar-link">
                <i class="fa-solid fa-lightbulb" style="color: #ffffff;"></i>
                <span>Dicas da Web</span>
            </a>
         
            <a href="./produtos_limpeza.html" class="sidebar-link">
                <i class="fa-solid fa-soap" style="color: #ffffff;"></i>
                <span>Produtos de Limpeza</span>
            </a>
        </div>
    </aside>

    <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

    <!--CONTEUDO PRINCIPAL-->
    <main class="content-conteudo">
        <button class="return-page" onclick="returnPage()">
            <i class="fa-solid fa-arrow-left" style="color: #000000;"></i>
        </button>
        <button class="back-to-top" onclick="scrollToTop()">
            <i class="fa-solid fa-arrow-up"></i>
        </button>

        <div class="banner-post">
            <img src="./img/stem-cell research-amico.png" alt="Banner da matéria" class="banner-img">
        </div>

        <h2 class="titulo-principal skeleton">Título Principal</h2>

        <div class="content-carousel-container">
            <div class="swiper contentSwiper">
                <div class="swiper-wrapper">
                    <!-- Slide 1 - Introdução (Central) -->
                    <div class="swiper-slide active-slide">
                        <div class="slide-content">
                            <h3 class="skeleton introTitulo">Introdução:</h3>
                            <p class="intro texto skeleton">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum consequat, nisi at tristique
                                sollicitudin, nisl massa tempus erat, sit amet pulvinar lorem magna ut eros. Quisque ac tincidunt
                                ex.
                            </p>
                            <button class="read-more"></button>
                        </div>
                    </div>
                    
                    <!-- Slide 2 - Composição -->
                    <div class="swiper-slide">
                        <div class="slide-content">
                            <h3 class="skeleton composicao">Composição:</h3>
                            <p class="conteudo-composicao texto skeleton">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum consequat, nisi at tristique
                                sollicitudin, nisl massa tempus erat, sit amet pulvinar lorem magna ut eros. Quisque ac tincidunt
                                ex.
                            </p>
                            <button class="read-more"></button>
                        </div>
                    </div>
                    
                    <!-- Slide 3 - Combinações Perigosas -->
                    <div class="swiper-slide">
                        <div class="slide-content">
                            <h3 class="skeleton combinacao">Combinações Perigosas</h3>
                            <p class="conteudo-combinacoes texto skeleton">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum consequat, nisi at tristique
                                sollicitudin, nisl massa tempus erat, sit amet pulvinar lorem magna ut eros. Quisque ac tincidunt
                                ex.
                            </p>
                            <button class="read-more"></button>
                        </div>
                    </div>
                    
                    <!-- Slide 4 - Como manipular -->
                    <div class="swiper-slide">
                        <div class="slide-content">
                            <h3 class="skeleton manipulacao">Como manipular</h3>
                            <p class="conteudo-manipulacao texto skeleton">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum consequat, nisi at tristique
                                sollicitudin, nisl massa tempus erat, sit amet pulvinar lorem magna ut eros. Quisque ac tincidunt
                                ex.
                            </p>
                            <button class="read-more"></button>
                        </div>
                    </div>
                    
                    <!-- Slide 5 - Armazenamento -->
                    <div class="swiper-slide">
                        <div class="slide-content">
                            <h3 class="skeleton armazenamento">Armazenamento:</h3>
                            <p class="conteudo-armazenamento texto skeleton">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum consequat, nisi at tristique
                                sollicitudin, nisl massa tempus erat, sit amet pulvinar lorem magna ut eros. Quisque ac tincidunt
                                ex.
                            </p>
                            <button class="read-more"></button>
                        </div>
                    </div>
                </div>
                
                <!-- Navegação do carrossel -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-pagination"></div>
            </div>
        </div>

        <hr style="max-width: 1400px; margin: 30px auto;">
        <br><br>
    </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script src="js/interactions/navbar.js"></script>
    <script type="module" src="./js/interactions/page_constructor.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
        const swiper = new Swiper('.swiper', {
            loop: false,
            slidesPerView: 'auto',
            centeredSlides: true,
            spaceBetween: 20,
            navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
            },
            pagination: {
            el: '.swiper-pagination',
            clickable: true,
            },
            observer: true,
            observeParents: true,
            observeSlideChildren: true,
            breakpoints: {
            640: {
                slidesPerView: 1,
                spaceBetween: 15
            },
            768: {
                slidesPerView: 2,
                spaceBetween: 20
            },
            1024: {
                slidesPerView: 3,
                spaceBetween: 25
            }
            },
            on: {
            init: function() {
                updateActiveSlide(this);
            },
            slideChange: function() {
                updateActiveSlide(this);
            }
            }
        });

        // Atualiza o slide ativo e desativa os outros
        function updateActiveSlide(swiperInstance) {
            document.querySelectorAll('.swiper-slide').forEach(slide => {
            const texto = slide.querySelector('.texto');
            const readMore = slide.querySelector('.read-more');
            
            if (slide.classList.contains('swiper-slide-active')) {
                // Expande o texto do slide ativo
                if (texto) {
                texto.style.maxHeight = 'none';
                texto.style.transition = 'max-height 0.5s ease-in-out';
                }
                if (readMore) readMore.style.display = 'none';
            } else {
                // Recolhe o texto dos slides inativos
                if (texto) {
                texto.style.maxHeight = '120px';
                texto.style.transition = 'max-height 0.3s ease-in-out';
                }
                if (readMore) readMore.style.display = 'block';
            }
            });
        }

        // Botão "Leia mais" - expande o texto do slide clicado
        document.querySelectorAll('.read-more').forEach(button => {
            button.addEventListener('click', function(e) {
            e.preventDefault();
            const slide = this.closest('.swiper-slide');
            const texto = slide.querySelector('.texto');
            
            if (texto.style.maxHeight === 'none' || texto.classList.contains('expanded')) {
                texto.style.maxHeight = '120px';
                texto.classList.remove('expanded');
            } else {
                texto.style.maxHeight = 'none';
                texto.classList.add('expanded');
                this.style.display = 'none';
                
                // Rola para o slide se não estiver totalmente visível
                slide.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
            });
        });

        // Funções auxiliares
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        window.addEventListener("scroll", function() {
            const button = document.querySelector(".back-to-top");
            button.classList.toggle("show", window.scrollY > 300);
        });

        function returnPage() {
            window.history.back();
        }
        });
</script>
</body>
</html>